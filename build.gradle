/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.5/samples
 */
//build.gradle

plugins {
    id 'java'
}

java {
    sourceCompatibility = JavaVersion.toVersion(11)
    targetCompatibility = JavaVersion.toVersion(11)
}
repositories {
    jcenter()
}
dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.0'
    testImplementation 'org.hamcrest:hamcrest-library:2.2'
    //testImplementation( 'org.testing:testng:1.8.2)')
}

test {
    ignoreFailures = true
    useJUnitPlatform()
    reports {html.required = true}
    testLogging {
        events "passed", "failed", "skipped"//, "standardOut", "standardErr"
    }
}

javadoc {
    failOnError false
}

task reportsAndStuff(dependsOn:[
"test", 
"javadoc"]){
    description = "Generate reports and stuff"
}

task copyReports(type: Copy){
    dependsOn reportsAndStuff
    from 'build/reports'
    into 'build/tmp/website'
    description = "Copy reports to \"website\" directory."
    
}

task copyDocumentation(type: Copy){
    dependsOn reportsAndStuff
    from 'build/docs'
    into 'build/tmp/website'
    description = "Copy Javadoc output to \"website\" directory."
}

task deployReports (dependsOn: ["copyReports", "copyDocumentation"]){
    description = "Copy all reports and documentation to \"website\" directory."
}
